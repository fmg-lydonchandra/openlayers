---
layout: example-no-header.html
title: FMS Lane Editor Tool
shortdesc: Demonstrates rendering of features from a TopoJSON topology.
docs: >
  This example uses a vector layer with `ol/format/TopoJSON` for rendering features from [TopoJSON](https://github.com/mbostock/topojson/wiki).
tags: "PtclJSON, vector, style"
cloak:
  - key: get_your_own_D6rA4zTHduk6KOKTXzGB
    value: Get your own API key at https://www.maptiler.com/cloud/
resources:
  - http://localhost:8080/p5.js
  - http://localhost:8080/turf.min.js
  - http://localhost:8080/ol-ext.css
---
<div>
  <div>
    <label>Control type</label>
    <select id="type">
      <option value="add-nodes">Add Nodes</option>
      <option value="add-nodes-and-lanes">Add Nodes & Lanes</option>
      <option value="modify-nodes">Modify Nodes</option>
      <option value="move-nodes">Move Nodes</option>
      <option value="add-lane-sections">Add Lane Sections</option>
      <option value="modify-lane-sections">Modify Lane Sections</option>
      <option value="select-ptcl-lane-sections">Select PTCL Lane Sections</option>
      <option value="get-route" selected>Get Route</option>
    </select>
  </div>
  <div>
    <label for="route-source">Route Source</label>
    <input type="text" id="route-source" name="route-source" value="1">
  </div>
  <div>
    <label for="route-destination">Route Destination</label>
    <input type="text" id="route-destination" name="route-destination" value="2">
  </div>

  <div>
    <label for="lane-width">Lane Width</label>
    <input type="text" id="lane-width" name="lane-width" value="17">
  </div>

  <div>
    <input type="checkbox" id="use-freehand" name="use-freehand" value="use-freehand">
    <label for="use-freehand">Use Freehand</label><br>

    <input type="checkbox" id="direction-arrow" name="direction-arrow" value="direction-arrow" checked>
    <label for="direction-arrow">Show Direction Arrow</label><br>
    <input type="checkbox" id='show-section-boundaries' name="center-line" value="center-line" checked>
    <label for='show-section-boundaries'>Show Section Boundaries (ribs)</label><br>
    <input type="checkbox" id='show-aerial' name="show-aerial" value="show-aerial">
    <label for='show-aerial'>Show Aerial</label><br>
  </div>

  <div>
    <label for="bezier-steps">Bezier steps</label>
    <input type="text" id="bezier-steps" name="bezier-steps" value="32">
  </div>

  <div>
    <!-- label and button for export-embomap -->
    <label for="export-embomap-json">Export Embomap JSON</label>
    <button id="export-embomap-json">Export</button>
  </div>
  <button id="save-fms-map">Save To Browser LocalStorage</button>
  <button id="sync-fms-map">Sync To FMS</button>
  <button id="fit-bezier">Fit Bezier</button>
</div>
<div>

</div>
<div id="popup" class="ol-popup">
  <a href="#" id="popup-closer" class="ol-popup-closer"></a>
  <div id="popup-content"></div>
</div>
<div id="map" class="map" tabindex="0"></div>

